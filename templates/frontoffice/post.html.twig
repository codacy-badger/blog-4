{% include "/frontoffice/header.html.twig" %} 

{% block content %} 
    <div class="container mt-5">
        <div class="row">
            <div class="col-lg-12">
                <!-- Post content-->
                <article>
                    <!-- Post header-->
                    <header class="mb-4">
                        <!-- Post title-->
                        <h1 class="fw-bolder mb-1 text-center">{{ post.title }}</h1>
                        <!-- Post meta content-->
                        <div class="text-muted fst-italic mb-2">Publié le {{ post.DateCreated | date("d/m/Y") }} par {{ post.pseudo}}</div>
                    </header>
                    <!-- Preview image figure-->
                    <figure class="mb-4 text-center"><img class="img-fluid rounded"
                            src="https://dummyimage.com/900x400/ced4da/6c757d.jpg" alt="..." /></figure>
                    <!-- Post content-->
                    <section class="mb-5">
                        <p class="fs-5 mb-4">{{post.shortContent}}</p>
                        <p class="fs-5 mb-4">{{post.content}}</p>
                        <div class="text-muted fst-italic mb-2">Dernière modification {{ post.DateUp| date("d/m/Y") }} à {{ post.DateUp| date("H:m") }}</div>

                        <p class="fs-5 mb-4">{{post.id}}</p>
                    </section>
                </article>
                <!-- Comments section-->
                
                 {% if comments %}
                            {% for comment in comments %}
                    
                <section class="mb-5">
                    <div class="card bg-light">
                        <div class="card-body">
                            <!-- Comment form-->
                            <!-- Comment with nested comments-->
                           
                            <div class="d-flex mb-4">
                                <!-- Parent comment-->
                                <div class="ms-3">
                                
                                    <div class="fw-bold">{{ comment.pseudoUser }}</div>
                                    <p> {{ comment.content }} </p>
                                     <div class="text-muted fst-italic mb-2">Le {{ comment.dateComment| date("d/m/Y") }} à {{ post.DateUp| date("H:m") }}</div>
                                    <p> {{ comment.idPost }} </p>
                               

                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                               
            {% endfor %}
            {% else %}
            <h4>Aucun commentaires</h4>
            {% endif %}
            </div>
        </div>
    </div>


    {# <article>
    
            <h2>title = {{ post.title }}</h2>
            <p>text = {{ post.content}}</p>
             <h4> Auteur = {{post.pseudo}} </h4>
             <span> Date de Publication :{{post.DateCreated}} </span>
    </article> #}

    {# <section>
        <h3>Commentaires</h3>
        {% if comments %}
            {% for comment in comments %}
                <p>id =  {{ comment.idPost }}<br>
                pseudo = {{ comment.pseudoUser }}<br>
                text = {{ comment.content }}</p>
               
            {% endfor %}
        {% else %}
            <h4>Aucun commentaires</h4>
        {% endif %} #}
    {# </section> #}
{% endblock %}
{% include "/frontoffice/footer.html.twig" %} 
